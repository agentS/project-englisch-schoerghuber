<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="616px" preserveAspectRatio="none" style="width:920px;height:616px;" version="1.1" viewBox="0 0 920 616" width="920px" zoomAndPan="magnify"><defs><filter height="300%" id="fqagzqq8wufeg" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fqagzqq8wufeg)" height="117.5313" style="stroke: #000000; stroke-width: 2.0;" width="447" x="462" y="336.3594"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="27" x2="27" y1="86.2969" y2="529.1563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="270.5" x2="270.5" y1="86.2969" y2="529.1563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="515" x2="515" y1="86.2969" y2="529.1563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="727.5" x2="727.5" y1="86.2969" y2="529.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="8" y="82.9951">User</text><ellipse cx="27" cy="13" fill="#FEFECE" filter="url(#fqagzqq8wufeg)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M27,21 L27,48 M14,29 L40,29 M27,48 L14,63 M27,48 L40,63 " fill="#FEFECE" filter="url(#fqagzqq8wufeg)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="8" y="541.1514">User</text><ellipse cx="27" cy="554.4531" fill="#FEFECE" filter="url(#fqagzqq8wufeg)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M27,562.4531 L27,589.4531 M14,570.4531 L40,570.4531 M27,589.4531 L14,604.4531 M27,589.4531 L40,604.4531 " fill="#FEFECE" filter="url(#fqagzqq8wufeg)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fqagzqq8wufeg)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="232.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="239.5" y="70.9951">Gateway</text><rect fill="#FEFECE" filter="url(#fqagzqq8wufeg)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="232.5" y="528.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="239.5" y="548.1514">Gateway</text><rect fill="#FEFECE" filter="url(#fqagzqq8wufeg)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="82" x="472" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="479" y="70.9951">Timetable</text><rect fill="#FEFECE" filter="url(#fqagzqq8wufeg)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="82" x="472" y="528.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="479" y="548.1514">Timetable</text><rect fill="#FEFECE" filter="url(#fqagzqq8wufeg)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="690.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="697.5" y="70.9951">Booking</text><rect fill="#FEFECE" filter="url(#fqagzqq8wufeg)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="690.5" y="528.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="697.5" y="548.1514">Booking</text><polygon fill="#A80036" points="259,113.2969,269,117.2969,259,121.2969,263,117.2969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="27" x2="265" y1="117.2969" y2="117.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="34" y="112.3638">Find connections between stations</text><polygon fill="#A80036" points="503,142.4297,513,146.4297,503,150.4297,507,146.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="271" x2="509" y1="146.4297" y2="146.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="278" y="141.4966">Find connections between stations</text><polygon fill="#A80036" points="282,171.5625,272,175.5625,282,179.5625,278,175.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="276" x2="514" y1="175.5625" y2="175.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="288" y="170.6294">Connections between stations</text><polygon fill="#A80036" points="38,200.6953,28,204.6953,38,208.6953,34,204.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="32" x2="270" y1="204.6953" y2="204.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="44" y="199.7622">Connections between stations</text><polygon fill="#A80036" points="259,229.8281,269,233.8281,259,237.8281,263,233.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="27" x2="265" y1="233.8281" y2="233.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="34" y="228.895">Booking request</text><polygon fill="#A80036" points="716,258.9609,726,262.9609,716,266.9609,720,262.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="271" x2="722" y1="262.9609" y2="262.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="278" y="258.0278">Booking request</text><polygon fill="#A80036" points="526,288.0938,516,292.0938,526,296.0938,522,292.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="520" x2="727" y1="292.0938" y2="292.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="532" y="287.1606">Fetch train connections</text><polygon fill="#A80036" points="526,317.2266,516,321.2266,526,325.2266,522,321.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="520" x2="727" y1="321.2266" y2="321.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="532" y="316.2935">Train connections</text><rect fill="none" height="117.5313" style="stroke: #000000; stroke-width: 2.0;" width="447" x="462" y="336.3594"/><polygon fill="#EEEEEE" points="462,336.3594,539,336.3594,539,343.3594,529,353.3594,462,353.3594,462,336.3594" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="477" y="349.4263">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="554" y="348.5698">[for every single hop]</text><polygon fill="#A80036" points="526,370.4922,516,374.4922,526,378.4922,522,374.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="520" x2="727" y1="374.4922" y2="374.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189" x="532" y="369.5591">Fetch train cars for single hop</text><polygon fill="#A80036" points="526,399.625,516,403.625,526,407.625,522,403.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="520" x2="727" y1="403.625" y2="403.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="532" y="398.6919">Train cars for single hop</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="728" x2="770" y1="432.8906" y2="432.8906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="770" x2="770" y1="432.8906" y2="445.8906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="729" x2="770" y1="445.8906" y2="445.8906"/><polygon fill="#A80036" points="739,441.8906,729,445.8906,739,449.8906,735,445.8906" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="735" y="427.8247">Check if place is available</text><polygon fill="#A80036" points="282,477.8906,272,481.8906,282,485.8906,278,481.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="276" x2="727" y1="481.8906" y2="481.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="288" y="476.9575">Booking reply</text><polygon fill="#A80036" points="38,507.0234,28,511.0234,38,515.0234,34,511.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="32" x2="270" y1="511.0234" y2="511.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="44" y="506.0903">Booking reply</text><!--
@startuml
actor User
participant Gateway
participant Timetable
participant Booking

User -> Gateway: Find connections between stations
Gateway -> Timetable: Find connections between stations
Gateway <- - Timetable: Connections between stations
User <- - Gateway: Connections between stations

User -> Gateway: Booking request
Gateway -> Booking: Booking request

Booking -> Timetable: Fetch train connections
Timetable <- - Booking: Train connections


loop for every single hop
	Booking -> Timetable: Fetch train cars for single hop
	Timetable <- - Booking: Train cars for single hop
	Booking -> Booking: Check if place is available
end

Gateway <- - Booking: Booking reply
User <- - Gateway: Booking reply

@enduml

PlantUML version 1.2017.15(Mon Jul 03 18:45:34 CEST 2017)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-post-Ubuntu-2ubuntu218.04
Operating System: Linux
OS Version: 5.0.0-32-generic
Default Encoding: UTF-8
Language: de
Country: AT
--></g></svg>