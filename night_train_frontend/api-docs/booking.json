{"openapi":"3.0.1","info":{"title":"Booking API","contact":{"name":"Lukas Schoerghuber","email":"lukas.schoerghuber@posteo.at"},"license":{"name":"GPLv3","url":"https://www.gnu.org/licenses/gpl-3.0.en.html"},"version":"0.0.0"},"servers":[{"url":"http://172.17.37.171:30451/booking/","description":"Booking API development server","variables":{}}],"tags":[{"name":"booking","description":"Booking-related endpoints"}],"paths":{"/booking/{id}":{"get":{"tags":["booking"],"operationId":"findById","parameters":[{"name":"id","in":"path","description":"ID of the booking.","required":true,"schema":{"type":"string"},"example":"5ed4fee72911115ee0fe46d9"}],"responses":{"403":{"description":"The user is not authorized to access the booking.","content":{"text/plain":{}}},"404":{"description":"The booking with the specified ID does not exist.","content":{"text/plain":{}}},"401":{"description":"The user is either unauthenticated.","content":{"text/plain":{}}},"200":{"description":"All information about the booking including all tickets.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingDto"}}}}}}},"/booking":{"post":{"tags":["booking"],"operationId":"book","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingRequestDto"}}},"required":true},"responses":{"201":{"description":"Confirmation of booking with all necessary information.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingDto"}}}},"401":{"description":"The user is either unauthenticated.","content":{"text/plain":{}}},"400":{"description":"The provided information was not given in the correct format.","content":{"text/plain":{}}}}}}},"components":{"schemas":{"BookingDto":{"required":["arrivalStationId","departureDate","departureStationId","emailAddress","id","status","trainCarType"],"type":"object","properties":{"id":{"type":"string"},"departureStationId":{"type":"integer","format":"int64"},"arrivalStationId":{"type":"integer","format":"int64"},"departureDate":{"type":"string","format":"date"},"trainCarType":{"type":"string","enum":["SEAT","COUCHETTE","SLEEPER"]},"status":{"type":"string","enum":["RESERVED","CONFIRMED","REJECTED"]},"tickets":{"type":"array","items":{"$ref":"#/components/schemas/TicketDto"}},"emailAddress":{"type":"string"}}},"TicketDto":{"required":["arrivalStationId","departureDate","departureStationId","placeNumber","trainCarId","trainConnectionId"],"type":"object","properties":{"departureStationId":{"type":"integer","format":"int64"},"arrivalStationId":{"type":"integer","format":"int64"},"trainCarId":{"type":"integer","format":"int64"},"placeNumber":{"type":"integer","format":"int32"},"departureDate":{"type":"string","format":"date"},"trainConnectionId":{"type":"integer","format":"int64"},"departureStationIds":{"uniqueItems":true,"type":"array","items":{"type":"integer","format":"int64"}}}},"BookingRequestDto":{"required":["arrivalStationId","departureDate","departureStationId","trainCarType"],"type":"object","properties":{"departureStationId":{"type":"integer","format":"int64"},"arrivalStationId":{"type":"integer","format":"int64"},"departureDate":{"type":"string","format":"date"},"trainCarType":{"type":"string","enum":["SEAT","COUCHETTE","SLEEPER"]}}}}}}